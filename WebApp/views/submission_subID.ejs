<!DOCTYPE html>
<html>

<head>

    <title>My Submission | CodeNext</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	
	
	<link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
	<link rel="stylesheet" type="text/css" href="/css/signin.css"> 	

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css"  href="/css/main.css">  
   <link rel="stylesheet" type="text/css"  href="/css/profile.css">  
   <!-- script
   ================================================== -->
	<script src="/js/modernizr.js"></script>
	<script src="/js/pace.min.js"></script>

   <!-- favicons
	================================================== -->
	<link rel="shortcut icon" href="/images/logo.png" type="image/x-icon">
	<link rel="icon" href="/images/logo.png" type="image/x-icon">
	
    <link rel="stylesheet" type="text/css" href="/css/submission_subID.css">
    <link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
	    
</head>

<body>
    <header> 

		<div class="header-logo">
		   <a href="/">CodeNext</a>
		</div> 
 
		 <a id="header-menu-trigger" href="#0">
			  <span id="temp" class="header-menu-text">Menu</span>
			   <span class="header-menu-icon"></span>
		 </a> 
 
		 <nav id="menu-nav-wrap">
 
			 <a href="#0" class="close-button" title="close"><span>Close</span></a>	
 
			<h3>CodeNext</h3>  
 
			 <ul class="nav-list">
				 <li class="current"><a href="/" title="">Home</a></li>
				 <li><a  href="/problems/all" title="">Practice</a></li>
				 <li><a href="/contests" title="">Contests</a></li>
				 <li><a  href="/rankings" title="">Rankings</a></li>
                 <li><a href="/quiz" title="">Quiz</a></li>
				 <li><a  href="/ide" title="">IDE</a></li>

				 <% if (locals.user && locals.user.isAdmin === true) { 
					%>	 <li><a  href="/admin"" title="">Admin</a></li>	<% } %>
				 
				 <% if (locals.user) { %>
					<li><a href="/user/profile">Profile</a></li>
					<li><a href="/user/logout">Sign Out</a></li>

					<% } else { %>

					<li><a data-toggle="modal" data-target="#loginModal">Sign In</a></li>
					<li><a data-toggle="modal" data-target="#signupModal">Sign Up</a></li>
					<% } %>
				 
			 </ul>				
 
			 <ul class="header-social-list">
			  <li>
				  <a href="#"><i class="fa fa-facebook-square" id = "nav-icon"></i></a>
			  </li>
			  <li>
				  <a href="#"><i class="fa fa-twitter" id = "nav-icon"></i></a>
			  </li>
			  <li>
				  <a href="#"><i class="fa fa-instagram" id = "nav-icon"></i></a>
			  </li>
			 <li>
				 <a href="#"><i class="fa fa-behance" id = "nav-icon"></i></a>
			 </li>
			  <li>
				  <a href="#"><i class="fa fa-dribbble" id = "nav-icon"></i></a>
			  </li>	         
		   </ul>		
 
		 </nav>  <!-- end #menu-nav-wrap -->
 
	 </header> <!-- end header -->  
    <div class="main">
    <div class="submit-container">
        <table class="table sortable">
            <thead class="table-secondary">
                <tr>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> #</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> User</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Problem</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Lang</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Verdict</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Time</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Memory</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Date</a></th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><%= data.subID %></td>
                    <td><%= locals.user.username %></td>
                    <td><a href="/problem/<%= data.qID %>"><%= data.qID %></a></td>
                    <td><%= data.language %></td>
                    <% var status_color = "nonAC_txt" %>
                    <% if (data.verdict === "Accepted") status_color = "AC_txt" %>
                    <td class="<%= status_color %>"><%= data.verdict %></td>
                    <td><%= data.time %> s</td>
                    <td><%= data.memory %> KB</td>
                    <td><%= data.date %></td>
                    <td>
                        <img src='/photos/copy.png' onclick="copyclipboard(); " width="20 " height='20' style='cursor:pointer;' >
            <img src = '/photos/download.png 'onclick="download();"width="20 " height='20' style='cursor:pointer'>
            
                    </td>
                </tr>
            </tbody>
        </table>
        <div id="editor">
            NOTHING TO DISPLAY :(
        </div>
    </div>
    <div class="testcase-container">
        <table class="table sortable">
            <thead class="thead-dark">
                <tr>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Testcase #</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Time</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Memory</a></th>
                    <th scope="col"><a><i class="fa fa-sort" aria-hidden="true"></i> Result</a></th>
                </tr>
            </thead>
            <tbody>
                <% for(var i = 0; i < data.tc.length; i++) { %>
                    <% var status_color = "nonAC" %>
                    <% if (data.tc[i].status === "Accepted") status_color = "AC" %>
                    <tr class="<%= status_color %>">
                        <td><%= i + 1 %></td>
                        <td><%= data.tc[i].time %> s</td>
                        <td><%= data.tc[i].memory %> KB</td>
                        <td><%= data.tc[i].status %></td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </div>
    </div>
    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="/js/modals_change.js"></script>
  <script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>
    <!-- Java Script
     ================================================== --> 
     
     <script src="/js/plugins.js"></script>
     <script src="/js/main.js"></script>

      
      
      <script src="/js/pie-script.js"></script>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.3/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    editor.setReadOnly(true);
    editor.setTheme("ace/theme/dracula");
    editor.session.setMode("ace/mode/python");
    var code = <%- JSON.stringify(data.code) %>;
    editor.getSession().setValue(code);
</script>
<script>
   function copyclipboard(){
   
  const el = document.createElement('textarea');
  el.value = editor.getValue();
  document.body.appendChild(el);
  el.select();
  document.execCommand('copy');
    
  document.body.removeChild(el);
}

function download() {
  var text = editor.getValue();
    text = text.replace(/\n/g, "\r\n"); // To retain the Line breaks.
    var blob = new Blob([text], { type: "text/plain"});
    var anchor = document.createElement("a");
    anchor.download = <%= data.subID %>+".txt";
    anchor.href = window.URL.createObjectURL(blob);
    anchor.target ="_blank";
    anchor.style.display = "none"; // just to be safe!
    document.body.appendChild(anchor);
    anchor.click();
    document.body.removeChild(anchor);
}
    </script>

</html>