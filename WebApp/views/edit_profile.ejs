<!DOCTYPE html>
<html>

    <head>

        <title>Edit | Profile</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        
    
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        
        
        <link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
        <link rel="stylesheet" type="text/css" href="/css/signin.css"> 	
    
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
    
        <link rel="stylesheet" type="text/css"  href="/css/main.css">  
       <link rel="stylesheet" type="text/css"  href="/css/profile.css">  
       <!-- script
       ================================================== -->
        <script src="/js/modernizr.js"></script>
        <script src="/js/pace.min.js"></script>
    
       <!-- favicons
        ================================================== -->
        <link rel="shortcut icon" href="/images/logo.png" type="image/x-icon">
        <link rel="icon" href="/images/logo.png" type="image/x-icon">
        
        <link rel="stylesheet" href="/css/pie-style.css">
    
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/3.6.95/css/materialdesignicons.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        
        <!--Function for PieChart Logic  -->
    
        <script type="text/javascript">
            $(document).ready(function(){
                var tle = Number("<%= stats.TLE %>");
                var wa = Number("<%= stats.WA %>");
                var ac = Number("<%= stats.AC %>");
                var re = Number("<%= stats.RE %>");
        
                var total = tle+wa+ac+re;
                if(total==0){
                    // set everythin to zero
                    per_tle=0;
                    per_wa=0;
                    per_ac=0;
                    per_re=0;
                }
                else{
                    per_tle=((tle/total)*100).toFixed(1);
                    per_wa=((wa/total)*100).toFixed(1);
                    per_ac=((ac/total)*100).toFixed(1);
                    per_re=((re/total)*100).toFixed(1);
                    //console.log(per_tle);
                }
                // Setting css properties and text
                    $("#per-tle").append(per_tle+"% "+"(" +tle+")\n");
                    $('#per-tle').css({'--percent': `${per_tle}`});
    
                    $("#wa").append(per_wa+"% "+"(" +wa+")");
                    $("#wa").css({'--percent': `${per_wa}`});
    
                    $("#ac").append(per_ac+"% "+"(" +ac+")");
                    $("#ac").css({'--percent': `${per_ac}`});
    
                    $("#re").append(per_re+"% "+"(" +re+")");
                    $("#re").css({'--percent': `${per_re}`});
                // only for animation
                const circleDiagrams = document.querySelectorAll('.circle-diagram')
                circleDiagrams.forEach(circleDiagram => {
                  circleDiagram.addEventListener("click", (e)=> animProp(e.target))
                  animProp(circleDiagram)
                })
    
                function animProp(el){
                  gsap.from(el, {"--percent": 0, duration: 3});
                };
            
            });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    </head>
    
    <body>
    
        <header> 
    
            <div class="header-logo">
               <a href="/">CodeNext</a>
            </div> 
     
             <a id="header-menu-trigger" href="#0">
                  <span id="temp" class="header-menu-text">Menu</span>
                   <span class="header-menu-icon"></span>
             </a> 
     
             <nav id="menu-nav-wrap">
     
                 <a href="#0" class="close-button" title="close"><span>Close</span></a>	
     
                <h3>CodeNext</h3>  
     
                 <ul class="nav-list">
                     <li class="current"><a href="/" title="">Home</a></li>
                     <li><a  href="/problems/all" title="">Practice</a></li>
                     <li><a href="/contests" title="">Contests</a></li>
                     <li><a  href="/rankings" title="">Rankings</a></li>
                     <li><a href="/quiz" title="">Quiz</a></li>
                     <li><a  href="/ide" title="">IDE</a></li>
    
                     <% if (locals.user && locals.user.isAdmin === true) { 
                        %>	 <li><a  href="/admin"" title="">Admin</a></li>	<% } %>
                     
                     <% if (locals.user) { %>
                        <li><a href="/user/profile">Profile</a></li>
                        <li><a href="/user/logout">Sign Out</a></li>
    
                        <% } else { %>
    
                        <li><a data-toggle="modal" data-target="#loginModal">Sign In</a></li>
                        <li><a data-toggle="modal" data-target="#signupModal">Sign Up</a></li>
                        <% } %>
                     
                 </ul>				
     
                 <ul class="header-social-list">
                  <li>
                      <a href="#"><i class="fa fa-facebook-square" id = "nav-icon"></i></a>
                  </li>
                  <li>
                      <a href="#"><i class="fa fa-twitter" id = "nav-icon"></i></a>
                  </li>
                  <li>
                      <a href="#"><i class="fa fa-instagram" id = "nav-icon"></i></a>
                  </li>
                 <li>
                     <a href="#"><i class="fa fa-behance" id = "nav-icon"></i></a>
                 </li>
                  <li>
                      <a href="#"><i class="fa fa-dribbble" id = "nav-icon"></i></a>
                  </li>	         
               </ul>		
     
             </nav>  <!-- end #menu-nav-wrap -->
     
         </header> <!-- end header -->  
    
    
        
        <div class="page-content page-container" id="page-content">
            <div class="padding">
                <div id="k" class="row container d-flex justify-content-center">
        <div class="col-xl-6 col-md-12">
                                                        <div id="tc" class="card user-card-full">
                                                            <div id="tc-c"class="row m-l-0 m-r-0">
                                                                <div class="col-sm-4 bg-c-lite-green user-profile">
                                                                    <div class="card-block text-center text-white">
                                                                        <div class="m-b-25">
                                                                            <img src="https://img.icons8.com/bubbles/100/000000/user.png" class="img-radius" alt="User-Profile-Image">
                                                                        </div>
                                                                        <h6 class="f-w-600"><%= locals.user.name %></h6>
                                                                        <p>Coder</p>
                                                                        <i class=" mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16"></i>
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-8">
                                                                    <div class="card-block">
                                                                        <div id="update-main" class="grid-content content">
                                                                            <div id="msg" class="box subtitle" style="display: none; background: #F18267;"></div>
                                                                            <div class="box">
                                                                                <h1 id="edit-heads" class="title">Update Profile</h1>
                                                                                <hr>
                                                                                <form action="/user/updateProfile" method="POST">
                                                                                    <div class="field">
                                                                                        <p id="edit-subheads"class="control">
                                                                                            Name
                                                                                            <input id="nam" class="input" name="name" type="text" placeholder="Name">
                                                                                        </p>
                                                                                    </div>
                                                                                    <div class="field">
                                                                                        <p id="edit-subheads" class="control">
                                                                                            Email
                                                                                            <input id="nam" class="input" name="email" type="email" placeholder="Email">
                                                                                        </p>
                                                                                        <p class="control">
                                                                                            <button id="change-btn" class="button is-info">Save Changes</button>
                                                                                        </p>
                                                                                    </div>
                                                                                </form>
                                                                                <hr>
                                                                                <form action="/user/updateProfile" method="POST">
                                                                                    <div class="field">
                                                                                        <p id="edit-subheads" class="control">
                                                                                            Current Password
                                                                                            <input id="nam" class="input" name="old" type="password" placeholder="Current Password">
                                                                                        </p>
                                                                                        <p id="edit-subheads" class="control">
                                                                                            New Password
                                                                                            <input id="nam-sp" class="input" name="new" type="password" placeholder="New Password">
                                                                                        </p>
                                                                                        <p class="control">
                                                                                            <button id="change-btn" class="button is-info">Save Changes</button>
                                                                                        </p>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                        </div>
                                                                        <ul class="social-link list-unstyled m-t-40 m-b-10">
                                                                            <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="facebook" data-abc="true"><i class="mdi mdi-facebook feather icon-facebook facebook" aria-hidden="true"></i></a></li>
                                                                            <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="twitter" data-abc="true"><i class="mdi mdi-twitter feather icon-twitter twitter" aria-hidden="true"></i></a></li>
                                                                            <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="instagram" data-abc="true"><i class="mdi mdi-instagram feather icon-instagram instagram" aria-hidden="true"></i></a></li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                     </div>
                                                        </div>
                                                    </div>
        
                                                    




            <script
              src="https://code.jquery.com/jquery-3.4.1.min.js"
              integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
              crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
            <script src="/js/modals_change.js"></script>
            <script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>
              <!-- Java Script
               ================================================== --> 
               
               <script src="/js/plugins.js"></script>
               <script src="/js/main.js"></script>
    
                
                
                <script src="/js/pie-script.js"></script>
        
    </body>
<script>
    var URL = window.location.href;
    if (URL.search("msg=") != -1) {
        var message = URL.split("msg=")[1];
        message = message.replace(/-/g, " ");
        var msgDisplay = document.getElementById("msg");
        msgDisplay.style.display = "block";
        msgDisplay.innerHTML = message;
    }
</script>

</html>
